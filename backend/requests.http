# REST Client requests for Study Material Generator backend
# Requires VS Code REST Client or compatible tool

### Variables
@host = http://localhost
@port = 8080
@baseUrl = https://study-material-backend.fly.dev
@youtubeUrl = https://www.youtube.com/watch?v=SquU4Bpc73Y
@language = en

### Health check
GET {{baseUrl}}/

### Extract transcript only
POST {{baseUrl}}/api/extract
Content-Type: application/json

{
  "url": "https://www.youtube.com/watch?v=SquU4Bpc73Y"
}

### Generate study material only (requires transcript from previous extract)
# 1) Run the Extract request above, copy videoId and transcript array from the response.
# 2) Paste them below to test summarize directly.
POST {{baseUrl}}/api/summarize
Content-Type: application/json

{
  "videoId": "SquU4Bpc73Y",
  "transcript": [
    {
      "offset": 0,
      "text": "hi"
    },
    {
      "offset": 1,
      "text": "hello"
    },
    {
      "offset": 2,
      "text": "hii"
    }
  ],
  "language": "en"
}

### Negative test: invalid URL
POST {{baseUrl}}/api/extract
Content-Type: application/json

{
  "url": "https://www.youtube.com/watch?v=SquU4Bpc73Y"
}

### Negative test: missing url in /api/process
POST {{baseUrl}}/api/process
Content-Type: application/json

{
}
